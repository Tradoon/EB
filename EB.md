ARM处理器的模式

 1 用户mode

2系统mode

3快中断mode (高速i/o数据传输)

4中断mode  (i/o数据传输)

5管理mode （开机/复位及软中断调用）

6访问中止mode（用于支持虚拟内存或存储器保护）

7未定义模式

2-7都是特权模式，3-7是异常模式，发生响应异常能够切换到对应的异常模式

ARM有37个寄存器，31个32位通用寄存器，6个状态寄存器

![image-20210321201212709](C:\Users\tradoon\AppData\Roaming\Typora\typora-user-images\image-20210321201212709.png)

异常：

+ 硬件触发的异常（irq，fiq）

+ 软件触发的异常

  

  对异常的响应

  + 将要执行的下一条指令的地址（有可能是该流水线下一个执行周期要执行的第一条指令）存入LR
  + 将CPSR内容复制进SPSR
  + 改变CPSR相应位
  + 强制让PC转到异常向量地址的下一条指令执行
  + 设置中断禁止位 防止中断发生

  异常返回

  + LR寄存器减去相应偏移量送到PC中
  + SPSR复制到CPSR中
  + 开中断

arm处理器的寻址方式

+ 立即寻址

  + 数据在指令中指出，数据以#开头

+ 寄存器寻址

  + 寄存器中的内容作为操作数 寄存器本身就是操作数地址

+ 寄存器间接寻址

  + 寄存器的内容作为操作数的地址
  + LDR R1,[R2]

+ 基址变址寻址

  + 寄存器中的内容与指令中给出的地址偏移量相加
  + LDR R0,[R1,#0X08]

+ 寄存器移位寻址

  + ARM指令独有
  + 对寄存器中的数据进行逻辑或者算数或者循环移动
    + MOV R0,R1,LSL#2 

+ 多寄存器寻址

   暂存，还不会

+ 堆栈寻址

  暂存，还不会

+ 相对寻址

  + 当前PC的地址作为基地址，指令中的地址标号作为偏移量，两者相加之后得到操作数的有效地址
  + BL NEXT
  + BL LOOP1

  

  